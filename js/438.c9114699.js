"use strict";(self["webpackChunkkitty_home"]=self["webpackChunkkitty_home"]||[]).push([[438],{2438:function(a,e,t){t.r(e),t.d(e,{default:function(){return b}});var s=t(6252);const n={class:"navbar navbar-expand-md navbar-light bg-light"},o={class:"container-fluid"},c=(0,s.Uk)("後台管理"),i=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),r={class:"collapse navbar-collapse",id:"navbarNav"},l={class:"navbar-nav"},u={class:"nav-item"},h=(0,s.Uk)("設定捐款項目"),d={class:"nav-item d-flex"};function k(a,e,t,k,v,p){const g=(0,s.up)("router-link"),b=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",n,[(0,s._)("div",o,[(0,s.Wm)(g,{class:"navbar-brand",to:"/admin"},{default:(0,s.w5)((()=>[c])),_:1}),i,(0,s._)("div",r,[(0,s._)("ul",l,[(0,s._)("li",u,[(0,s.Wm)(g,{class:"nav-link",to:"/admin/donate"},{default:(0,s.w5)((()=>[h])),_:1})]),(0,s._)("li",d,[(0,s._)("a",{class:"nav-link",onClick:e[0]||(e[0]=(...a)=>p.signout&&p.signout(...a)),style:{cursor:"pointer"}},"登出")])])])])]),v.checkSuccess?((0,s.wg)(),(0,s.j4)(b,{key:0})):(0,s.kq)("",!0)],64)}var v={data(){return{checkSuccess:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexTokenHomework\s*=\s*([^;]*).*$)|^.*$/,"$1");if(a){this.$http.defaults.headers.common.Authorization=`${a}`;const e="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(e,{api_token:this.token}).then((a=>{this.checkSuccess=!0})).catch((a=>{alert(a.data.message),this.$router.push("/login")}))}else alert("您尚未登入"),this.$router.push("/login")},signout(){document.cookie="hexTokenHomework=;expires=;",alert("已登出"),this.$router.push("/login")}}},p=t(3744);const g=(0,p.Z)(v,[["render",k]]);var b=g}}]);
//# sourceMappingURL=438.c9114699.js.map